# SpaceX Dashboard

Un dashboard interactivo que muestra datos de SpaceX incluyendo lanzamientos, cohetes y sat√©lites Starlink, con visualizaciones en tiempo real usando Vue 3, TypeScript y ECharts.

## üöÄ Caracter√≠sticas

- **Dashboard Principal**: Vista general con m√©tricas clave
- **Lanzamientos**: Gr√°ficos de lanzamientos por mes y estado
- **Cohetes**: Visualizaci√≥n radar de caracter√≠sticas de cohetes
- **Starlink**: Globo 3D interactivo mostrando sat√©lites en √≥rbita
- **Tema Personalizado**: Dise√±o oscuro con colores vibrantes
- **Responsive**: Funciona en desktop y m√≥vil
- **Cache Inteligente**: Optimizaci√≥n de rendimiento con cache de 10 minutos
- **Estado Global**: Gesti√≥n de estado con Pinia

## üõ†Ô∏è Tecnolog√≠as

### Frontend

- **Vue 3** con Composition API
- **TypeScript** para tipado est√°tico
- **Vite** como bundler
- **Vue Router** para navegaci√≥n
- **Pinia** para gesti√≥n de estado
- **ECharts** para visualizaciones
- **D3.js** para manipulaci√≥n de datos
- **Axios** para peticiones HTTP

### Backend

- **FastAPI** como framework web
- **Python 3.13+** (requerido)
- **httpx** para peticiones HTTP as√≠ncronas
- **cachetools** para cach√© con TTL
- **CORS** configurado para desarrollo

## üìã Prerrequisitos

Antes de comenzar, aseg√∫rate de tener instalado:

- **Node.js** (versi√≥n 18 o superior)
- **Python 3.13 o superior** ‚ö†Ô∏è **IMPORTANTE**: Se requiere Python 3.13+ para el correcto funcionamiento del backend
- **npm** o **yarn** (gestor de paquetes de Node.js)
- **pip** (gestor de paquetes de Python)

## üöÄ Instalaci√≥n y Configuraci√≥n

### 1. Clonar el repositorio

```bash
git clone <url-del-repositorio>
cd spacex-dashboard
```

### 2. Configurar el Backend

```bash
# Navegar al directorio del backend
cd backend

# Verificar versi√≥n de Python (debe ser 3.13+)
python --version

# Crear un entorno virtual (recomendado)
python -m venv venv

# Activar el entorno virtual
# En Windows:
venv\Scripts\activate
# En macOS/Linux:
source venv/bin/activate

# Instalar dependencias
pip install fastapi uvicorn httpx cachetools

# Ejecutar el servidor de desarrollo
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

El backend estar√° disponible en: `http://localhost:8000`

### 3. Configurar el Frontend

```bash
# En una nueva terminal, navegar al directorio del frontend
cd frontend

# Instalar dependencias
npm install

# Ejecutar el servidor de desarrollo
npm run dev
```

El frontend estar√° disponible en: `http://localhost:5173`

## üèóÔ∏è Arquitectura del Proyecto

### Flujo de Datos

El proyecto sigue una arquitectura de **Backend for Frontend (BFF)** con las siguientes capas:

1. **Frontend (Vue 3 + Pinia)**: Interfaz de usuario reactiva
2. **Backend (FastAPI)**: API intermedia con cache
3. **SpaceX API**: Fuente de datos externa

### Conexi√≥n Frontend-Backend

#### Configuraci√≥n de Proxy (Vite)
```typescript
// vite.config.ts
export default defineConfig({
  server: {
    proxy: {
      "/api": "http://localhost:8000", // Redirige /api/* al backend
    },
  },
});
```

#### Cliente HTTP (Frontend)
```typescript
// frontend/src/api.ts
export const api = axios.create({ baseURL: "/api" });
export const getLaunches = () => api.get("/launches").then((res) => res.data);
```

#### Endpoints Backend
```python
# backend/app/main.py
app.include_router(launches.router, prefix="/api/launches", tags=["launches"])
app.include_router(rockets.router, prefix="/api/rockets", tags=["rockets"])
app.include_router(starlink.router, prefix="/api/starlink", tags=["starlink"])
```

### Gesti√≥n de Estado (Pinia)

#### Store Principal
```typescript
// frontend/src/stores/useSpacexStore.ts
export const useSpacexStore = defineStore("spacex", () => {
  const launches = ref<any[]>([]);
  const rockets = ref<any[]>([]);
  const starlink = ref<any[]>([]);
  
  // Cache individual por tipo de dato
  const lastFetchLaunches = ref<Date | null>(null);
  const lastFetchRockets = ref<Date | null>(null);
  const lastFetchStarlink = ref<Date | null>(null);
  
  // Funci√≥n para cargar todos los datos
  const fetchAllData = async () => {
    const [launchesData, rocketsData, starlinkData] = await Promise.all([
      getLaunches(), getRockets(), getStarlink()
    ]);
    // Actualizar estado...
  };
});
```

#### Inicializaci√≥n en Dashboard
```typescript
// frontend/src/views/Dashboard.vue
onMounted(async () => {
  await spacexStore.fetchAllData(); // Carga todos los datos de una vez
});
```

### Cache en Backend

#### Servicio SpaceX
```python
# backend/app/services/spacex.py
from cachetools import TTLCache

cache = TTLCache(maxsize=8, ttl=600)  # Cache de 10 minutos

async def fetch(path: str):
    key = f"spacex:{path}"
    if key in cache:
        return cache[key]  # Retorna datos del cache
    
    # Si no est√° en cache, hace petici√≥n a SpaceX API
    async with httpx.AsyncClient(timeout=15) as client:
        resp = await client.get(f"{BASE}/{path}")
        data = resp.json()
        cache[key] = data  # Guarda en cache
        return data
```

## üìÅ Estructura del Proyecto

```
spacex-dashboard/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/           # Endpoints de la API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ launches.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rockets.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ starlink.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/      # L√≥gica de negocio
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ spacex.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py        # Configuraci√≥n de FastAPI
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt   # Dependencias de Python
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/    # Componentes Vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ charts/    # Gr√°ficos y visualizaciones
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LaunchesByMonth.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LaunchesStackedStatus.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RocketsRadar.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/    # Layout y navegaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppShell.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ starlink/   # Componente 3D
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ StarLinkGlobe.vue
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views/          # P√°ginas principales
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.vue       # Vista principal
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LaunchesRockets.vue
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StarLink.vue
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stores/         # Estado global (Pinia)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useSpacexStore.ts   # Store principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/         # Recursos est√°ticos
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ theme.ts            # Tema personalizado
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router/         # Configuraci√≥n de rutas
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts          # Cliente HTTP (Axios)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.ts         # Punto de entrada
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.vue         # Componente ra√≠z
‚îÇ   ‚îú‚îÄ‚îÄ package.json        # Dependencias de Node.js
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts      # Configuraci√≥n de Vite + Proxy
‚îî‚îÄ‚îÄ README.md
```

## üîß Scripts Disponibles

### Frontend

```bash
npm run dev      # Servidor de desarrollo
npm run build    # Build para producci√≥n
npm run preview  # Preview del build
```

### Backend

```bash
uvicorn app.main:app --reload    # Servidor de desarrollo
uvicorn app.main:app --host 0.0.0.0 --port 8000  # Servidor en puerto espec√≠fico
```

## üåê API Endpoints

### Backend (FastAPI)

| Endpoint | M√©todo | Descripci√≥n | Par√°metros |
|----------|--------|-------------|------------|
| `/api/launches` | GET | Lista de lanzamientos | `success` (bool), `rocket` (string) |
| `/api/rockets` | GET | Informaci√≥n de cohetes | - |
| `/api/starlink` | GET | Datos de sat√©lites Starlink | - |

### Ejemplos de Uso

```bash
# Obtener todos los lanzamientos
GET http://localhost:8000/api/launches

# Obtener solo lanzamientos exitosos
GET http://localhost:8000/api/launches?success=true

# Obtener lanzamientos de un cohete espec√≠fico
GET http://localhost:8000/api/launches?rocket=5e9d0d95eda69955f709d1eb
```

## üé® Personalizaci√≥n del Tema

El tema se encuentra en `frontend/src/assets/theme.ts` y incluye:

- **Paleta de colores**: 7 colores vibrantes (#ff58b0, #ff83c4, #7c4dff, etc.)
- **Configuraci√≥n de ECharts**: Estilos para gr√°ficos
- **Colores de texto**: Para diferentes elementos de UI
- **Configuraci√≥n de grid**: M√°rgenes y espaciado
- **Tooltips**: Estilos personalizados con blur y bordes redondeados

Para modificar el tema, edita el archivo `theme.ts` y los cambios se aplicar√°n autom√°ticamente.

## üìä Flujo de Datos Detallado

### 1. Inicializaci√≥n
```
Usuario accede a Dashboard ‚Üí onMounted() ‚Üí spacexStore.fetchAllData()
```

### 2. Carga de Datos
```
fetchAllData() ‚Üí Promise.all([
  getLaunches(),    // GET /api/launches
  getRockets(),     // GET /api/rockets  
  getStarlink()     // GET /api/starlink
])
```

### 3. Cache Backend
```
API Request ‚Üí cache.check() ‚Üí 
  Si existe: return cache[key]
  Si no existe: SpaceX API ‚Üí cache[key] = data ‚Üí return data
```

### 4. Actualizaci√≥n de Componentes
```
Store actualizado ‚Üí computed properties ‚Üí watchers ‚Üí 
updateChart() ‚Üí ECharts re-render
```

## ü§ù Soluci√≥n de Problemas

### Error de versi√≥n de Python

Si encuentras errores relacionados con la versi√≥n de Python:

```bash
# Verificar versi√≥n actual
python --version

# Si tienes una versi√≥n anterior a 3.13, actualiza Python
# En macOS con Homebrew:
brew install python@3.13

# En Ubuntu/Debian:
sudo apt update
sudo apt install python3.13

# En Windows, descarga desde python.org
```

### Error de CORS

Si encuentras errores de CORS, verifica que el backend est√© ejecut√°ndose en el puerto 8000 y el frontend en el puerto 5173.

### Error de dependencias

```bash
# Limpiar cach√© de npm
npm cache clean --force

# Reinstalar dependencias
rm -rf node_modules package-lock.json
npm install
```

### Error de Python

```bash
# Verificar versi√≥n de Python
python --version

# Reinstalar dependencias
pip install --upgrade pip
pip install fastapi uvicorn httpx cachetools
```

## üìä Datos

Los datos provienen de la [API p√∫blica de SpaceX](https://api.spacexdata.com/v4/) y se actualizan autom√°ticamente. El sistema incluye:

- **Cach√© inteligente**: Reduce las peticiones a la API externa (10 min TTL)
- **Manejo de errores**: Fallbacks cuando la API no est√° disponible
- **Datos en tiempo real**: Actualizaci√≥n autom√°tica cada 10 minutos
- **Filtrado**: Par√°metros de query para filtrar lanzamientos

## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## üìù Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## üôè Agradecimientos

- [SpaceX API](https://api.spacexdata.com/v4/) por proporcionar los datos
- [ECharts](https://echarts.apache.org/) por las visualizaciones
- [Vue.js](https://vuejs.org/) por el framework frontend
- [FastAPI](https://fastapi.tiangolo.com/) por el framework backend

## üèóÔ∏è Diagrama de Arquitectura

```mermaid
graph TB
    subgraph "Frontend (Vue 3 + Pinia)"
        A[Dashboard.vue] --> B[useSpacexStore]
        B --> C[api.ts]
        C --> D[Axios Client]
        
        E[LaunchesByMonth.vue] --> B
        F[LaunchesStackedStatus.vue] --> B
        G[RocketsRadar.vue] --> B
        H[StarLinkGlobe.vue] --> B
        
        I[ECharts] --> E
        I --> F
        I --> G
        I --> H
    end
    
    subgraph "Backend (FastAPI)"
        D --> J[Proxy /api/*]
        J --> K[FastAPI App]
        K --> L[launches.py]
        K --> M[rockets.py]
        K --> N[starlink.py]
        
        L --> O[spacex.py Service]
        M --> O
        N --> O
        
        O --> P[TTLCache]
        O --> Q[httpx Client]
    end
    
    subgraph "External API"
        Q --> R[SpaceX API<br/>api.spacexdata.com/v4]
    end
    
    subgraph "Data Flow"
        S[User Request] --> A
        A --> T[fetchAllData]
        T --> U[Promise.all]
        U --> V[3 Parallel Requests]
        V --> W[Cache Check]
        W --> X[SpaceX API or Cache]
        X --> Y[Update Store]
        Y --> Z[Reactive Components]
    end
    
    style A fill:#42b883
    style B fill:#ffd700
    style K fill:#009688
    style R fill:#ff6b6b
    style P fill:#4ecdc4
```

### Flujo de Datos Explicado:

1. **Usuario accede al Dashboard** ‚Üí Se ejecuta `onMounted()`
2. **Store ejecuta fetchAllData()** ‚Üí Hace 3 peticiones en paralelo
3. **Backend recibe peticiones** ‚Üí Verifica cache (TTL 10 min)
4. **Si no hay cache** ‚Üí Hace petici√≥n a SpaceX API
5. **Datos se guardan en cache** ‚Üí Se retornan al frontend
6. **Store actualiza estado** ‚Üí Componentes se re-renderizan autom√°ticamente
7. **ECharts actualiza gr√°ficos** ‚Üí Usuario ve datos actualizados

### Beneficios de esta Arquitectura:

- ‚úÖ **Performance**: Cache de 10 minutos reduce llamadas a SpaceX API
- ‚úÖ **UX**: Una sola carga inicial, luego datos instant√°neos
- ‚úÖ **Escalabilidad**: Backend puede manejar m√∫ltiples frontends
- ‚úÖ **Mantenibilidad**: Separaci√≥n clara de responsabilidades
- ‚úÖ **Robustez**: Manejo de errores en cada capa
